<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
        integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous" />
    <title>Bootstrap Sandbox</title>

    <script
        src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=java&amp;skin=sons-of-obsidian"></script>
    <!-- skin default,desert,sunbrust,sons-of-obsidian,doxy-->

    <style>
        xmp.prettyprint {
            font-size: 12pt;
            font-family: monospace;
        }
    </style>
</head>

<body>


    <h1>Javascrip</h1>

    <div class="row">
        <div class="col-lg-12">

            <xmp class="prettyprint">

                String.prototype.replaceAll = function(search, replacement) {
                var target = this;
                return target.replace(new RegExp(search, 'g'), replacement);
                };

                $('input.Stylednumber').keyup(function() {
                var input = $(this).val().replaceAll(',', '');
                if (input.length < 1) $(this).val(''); else { var val=parseFloat(input); var formatted=inrFormat(input);
                    if (formatted.indexOf('.')> 0) {
                    var split = formatted.split('.');
                    formatted = split[0] + '.' + split[1].substring(0, 2);
                    }
                    $(this).val(formatted);
                    }
                    });

                    function inrFormat(val) {
                    var x = val;
                    x = x.toString();
                    var afterPoint = '';
                    if (x.indexOf('.') > 0)
                    afterPoint = x.substring(x.indexOf('.'), x.length);
                    x = Math.floor(x);
                    x = x.toString();
                    var lastThree = x.substring(x.length - 3);
                    var otherNumbers = x.substring(0, x.length - 3);
                    if (otherNumbers != '')
                    lastThree = ',' + lastThree;
                    var res = otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ",") + lastThree + afterPoint;
                    return res;
                    }



                    function isNumberKey(element,evt)
                    {
                    var charCode = (evt.which) ? evt.which : event.keyCode
                    if (charCode > 31 && (charCode < 48 || charCode> 57) && !(charCode == 46 || charCode == 8))
                        return false;
                        else {
                        var len = $(element).val().length;
                        var index = $(element).val().indexOf('.');
                        if (index > 0 && charCode == 46) {
                        return false;
                        }
                        if (index > 0) {
                        var CharAfterdot = (len + 1) - index;
                        if (CharAfterdot > 3) {
                        return false;
                        }
                        }

                        }
                        return true;
                        }

            </xmp>
        </div>
    </div>
    <div class="col-lg-12">
        <input name="txtMSExMarCardFee" onkeypress="return isNumberKey(this,event)" maxlength="8" type="text"
            id="txtMSExMarCardFee" class="Stylednumber">

    </div>
    </div>

</body>

</html>